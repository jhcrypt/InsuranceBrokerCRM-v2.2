<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Insurance Broker CRM</title>
    <!-- Styles -->
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/components/clientProfile.css">
    <link rel="stylesheet" href="css/components/clientList.css">
    <link rel="stylesheet" href="css/components/documentList.css">
    <link rel="stylesheet" href="css/components/addClientModal.css">
    <link rel="stylesheet" href="css/components/calendar.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="app-container">
        <!-- Top Navigation -->
        <nav class="top-nav">
            <div class="nav-left">
                <div class="logo">
                    <i class="fas fa-shield-alt"></i>
                </div>
                <div class="search-bar">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Search clients, documents, or policies...">
                </div>
            </div>
            <div class="nav-right">
                <button class="btn-calendar">
                    <i class="far fa-calendar"></i>
                </button>
                <div class="user-profile">
                    <img src="https://via.placeholder.com/32" alt="Profile" class="avatar">
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <div class="content-wrapper">
            <!-- Sidebar -->
            <nav class="sidebar">
                <ul>
                    <li><a href="#dashboard" class="active"><i class="fas fa-chart-line"></i> Dashboard</a></li>
                    <li><a href="#clients"><i class="fas fa-users"></i> Clients</a></li>
                    <li><a href="#documents"><i class="fas fa-file-alt"></i> Documents</a></li>
                    <li><a href="#calendar"><i class="fas fa-calendar"></i> Calendar</a></li>
                    <li><a href="#policies"><i class="fas fa-file-contract"></i> Policies</a></li>
                    <li><a href="#quotes"><i class="fas fa-file-invoice-dollar"></i> Quotes</a></li>
                    <li><a href="#tasks"><i class="fas fa-tasks"></i> Tasks</a></li>
                    <li><a href="#reports"><i class="fas fa-chart-bar"></i> Reports</a></li>
                    <li><a href="#settings"><i class="fas fa-cog"></i> Settings</a></li>
                </ul>
            </nav>

            <!-- Main Content Area -->
            <main class="main-content">
                <!-- Dashboard Section -->
                <section id="dashboard" class="section">
                    <header class="section-header">
                        <h2>Dashboard Overview</h2>
                    </header>
                    <div class="dashboard-grid">
                        <!-- Stats Overview -->
                        <div class="card">
                            <div class="profile-stats">
                                <div class="stat">
                                    <div class="stat-value">42</div>
                                    <div class="stat-label">Active Clients</div>
                                </div>
                                <div class="stat">
                                    <div class="stat-value">8</div>
                                    <div class="stat-label">Pending Quotes</div>
                                </div>
                                <div class="stat">
                                    <div class="stat-value">15</div>
                                    <div class="stat-label">Renewals Due</div>
                                </div>
                            </div>
                        </div>

                        <!-- Performance Metrics -->
                        <div class="card">
                            <div class="card-header">
                                <h3>Monthly Performance</h3>
                                <button class="btn-add">
                                    <i class="fas fa-sync-alt"></i>
                                </button>
                            </div>
                            <div class="performance-metrics">
                                <div class="metric">
                                    <div class="metric-header">
                                        <span>Policy Sales</span>
                                        <span class="percentage">83%</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress" style="width: 83%"></div>
                                    </div>
                                </div>
                                <div class="metric">
                                    <div class="metric-header">
                                        <span>Client Retention</span>
                                        <span class="percentage">92%</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress" style="width: 92%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Clients Section -->
                <section id="clients" class="section hidden">
                    <header class="section-header">
                        <h2>Client Management</h2>
                        <button class="btn-primary" id="showAddClientBtn">
                            <i class="fas fa-plus"></i> Add Client
                        </button>
                    </header>
                    <div class="client-container">
                        <!-- Client List View -->
                        <div id="clientListView"></div>
                        
                        <!-- Client Profile View -->
                        <div id="clientProfileView" class="hidden"></div>
                    </div>
                </section>

                <!-- Documents Section -->
                <section id="documents" class="section hidden">
                    <div id="documentListView"></div>
                </section>

                <!-- Calendar Section -->
                <section id="calendar" class="section hidden">
                    <div id="calendarView"></div>
                </section>

                <!-- Other sections will be added here -->
            </main>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/clientManager.js"></script>
    <script src="js/documentManager.js"></script>
    <script src="js/components/clientProfile.js"></script>
    <script src="js/components/clientList.js"></script>
    <script src="js/components/documentList.js"></script>
    <script src="js/components/addClientModal.js"></script>
    <script src="js/components/calendar.js"></script>
    <script>
        // Initialize components when the page loads
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize client list
            const clientList = new ClientList('clientListView');
            clientList.initialize();

            // Initialize client profile
            const clientProfile = new ClientProfile('clientProfileView');
            clientProfile.initialize();

            // Initialize document list
            const documentList = new DocumentList('documentListView');
            documentList.initialize();

            // Initialize calendar
            const calendar = new Calendar('calendarView');
            calendar.initialize();

            // Initialize add client modal
            const addClientModal = new AddClientModal();

            // Add Client Button
            document.getElementById('showAddClientBtn')?.addEventListener('click', () => {
                addClientModal.showModal();
            });

            // Handle navigation
            const navLinks = document.querySelectorAll('.sidebar a');
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const sectionId = this.getAttribute('href').substring(1);
                    
                    // Update active state
                    navLinks.forEach(l => l.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Show selected section
                    document.querySelectorAll('main > section').forEach(section => {
                        section.classList.add('hidden');
                    });
                    document.getElementById(sectionId)?.classList.remove('hidden');
                });
            });

            // Show dashboard by default
            document.getElementById('dashboard')?.classList.remove('hidden');
        });
    </script>
</body>
</html>
